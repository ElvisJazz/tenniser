<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
    <title>立即加入</title>
    <link rel="stylesheet" href="__CSS__/bootstrap3.0.3.min.css">
    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../docs-assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Custom styles for this template -->
    <link href="__CSS__/my.css" rel="stylesheet">
    <link rel="shortcut icon" href="__IMG__/logo.jpg">
</head>
<!-- NAVBAR
================================================== -->
  <body onload="load(9)">
    <!-- Carousel
================================================== img:900*500-->
      <include file="Common:header" />
      

    <!-- Wrap the rest of the page in another container to center all the content. -->

      <div class="container" style="margin-top:50px; background-color:white" >
	<fieldset>
        <span class="btn btn-info"><h3>注册成员</h3></span>
                <hr>
          </fieldset>
      <!-- Three columns of text below the carousel img(140*140) -->
      <!-- Three columns of text below the carousel img(140*140) -->
      <div class="row">
        <div class="col-sm-offset-1 col-sm-10">
            <form class="form-horizontal" role="form" action="__APP__/Public/registerSubmit" method="post">
            
            <div class="form-group">
                <label class="col-sm-3 control-label">邮箱</label>
                    <div class="col-sm-4 ">
                        <input name="mailbox" type="email" class="form-control" id="Email" placeholder="Email" autofocus="autofocus" pattern="^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$" required>
                    </div>
                    <div class="col-sm-4 help-block">
                        <span >可用于密码找回</span>
                    </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label ">用户名</label>
                    <div class="col-sm-4 ">
                        <input name="username" type="text" class="form-control" id="username" placeholder="User Name" maxlength=20 required>
                    </div>
                    <div class="col-sm-4 help-block">
                        <span>长度小于20</span>
                    </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">密码</label>
                    <div class="col-sm-4">
                        <input name="password" type="password" class="form-control" id="pwd" placeholder="Password" pattern="^[\w\W]{6,16}$" onchange="checkPasswords()" required>
                    </div>
                    <div class="col-sm-4 help-block">
                        <span>6-16位数字、字母组合</span>
                    </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">密码确认</label>

                    <div class="col-sm-4">
                        <input name="repassword" type="password" class="form-control" id="pwd1" placeholder="Confirming" onchange="checkPasswords()" required>
                    </div>
            </div>
            <div class="form-group">
                <label class="col-sm-3 control-label">性别</label>
                    <div class="col-sm-4" style="padding:5px">
                       &nbsp; <input type="radio" name="sex" id="sex1" value="1" checked="checked">女
                        &nbsp;&nbsp;
                        <input type="radio" name="sex" id="sex2" value="0" >男
                    </div>
            </div>
             <div class="form-group">
                <label class="col-sm-3 control-label">验证码</label>
				<div class="col-sm-4">
					<input name="verify" class="form-control" id="verifyCode" placeholder="Verify" onchange="checkVerifyCode()" required>
                </div>
                <div class="col-sm-4">
                	<img id="verifyImg" src='__APP__/Public/verify/' style="height:35px;" onclick="fleshVerify()" />    
                    区分大小写
                </div>
             </div>    
                
            <div class="form-group">
                <div class="col-sm-offset-3 col-sm-3">
                    <button type="submit" class="btn btn-primary" id="ok"> &nbsp; 立 即 加 入 &nbsp; </button>
                </div>
            </div>
            
        </form>
    </div>
   </div><!-- /.row -->
      
		
      <!-- FOOTER -->
	 <include file="Common:footer" />


    </div><!-- /.container -->
     <script src="__JS__/md5.js"></script>
	 <script>
        function checkPasswords() {
            var passl = document.getElementById("pwd");
            var pass2 = document.getElementById("pwd1");
            if (passl.value != pass2.value)
                passl.setCustomValidity("两次密码必须输入一致！");
            else
                passl.setCustomValidity('');
        }
       
         
            var checkvalue = function(e){
                var el = e.target;
                var isvalid = el.checkValidity();
                if(isvalid){
                    el.className= "";
                    el.parentElement.getElementsByTagName("label")[0].className="";
                }else{
                    el.className= "error";
                    el.parentElement.getElementsByTagName("label")[0].className="error";
                }
                e.stopPropagation();
                e.preventDefault();
            }
            //定义表单验证方法
            function invalidHandler(evt) {
                checkvalue(evt);
            }
            function loadDemo() {
               var myform = document.getElementById("register1");
               //注册表单的oninvlid事件
               myform.addEventListener("invalid", invalidHandler, true);
                for(var i=0;i< myform.elements.length-1;i++){
                    //注册表单元素的onchange事件，优化用户体验
                    myform.elements[i].addEventListener("change",checkvalue,false);
                }
            }
            //在页面初始化事件（onload）时注册的自定义事件
            window.addEventListener("load", loadDemo, false);
    </script>
    <script language="JavaScript">
    	function fleshVerify(){ 
        //重载验证码
        	var time = new Date().getTime();
			document.getElementById('verifyImg').src= '__APP__/Public/verify/'+time;
		}
	</script>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  </body>
</html>
